# ai-mad

Одностраничное приложение на Node.js для проведения базовых версий тестов СМИЛ/MMPI, опросника Шмишека, EPI и ПДО. Встроены отдельные ссылки для ввода персональных данных, прохождения теста и просмотра результатов (закрытая ссылка `/tests/:slug/results`).

## Запуск

Без внешних зависимостей — используется только стандартная библиотека Node.js.

```bash
node app.js
```

Сервер будет доступен на http://localhost:3000.

### Запуск через Docker

Обязательно указывайте контекст сборки (`.`) в конце команды. Для сохранения результатов поверх перезапусков примонтируйте локальную папку к `/usr/src/app/data`.

```bash
docker build -t ai-mad .
docker run -d -p 3000:3000 -v $(pwd)/data:/usr/src/app/data --name ai-mad ai-mad
```

### Запуск через Docker Compose

В репозитории добавлен `docker-compose.yml` с теми же настройками. Можно поднять контейнер одной командой:

```bash
docker compose up --build -d
```

Папка `./data` автоматически монтируется в контейнер и сохраняет `data/responses.json` между перезапусками.

## Структура

- `/` — выбор методики и быстрые ссылки.
- `/tests/:slug/intake` — форма ввода персональных данных.
- `/tests/:slug/assessment` — прохождение теста по ссылке с `id` сохраненной анкеты.
- `/tests/:slug/complete?id=...` — персональные результаты.
- `/tests/:slug/results` — сводная таблица (не размещайте публично).

Данные сохраняются в `data/responses.json`.
